<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/kalshietrade/src/main/java/com/kg/kalshietrade/KalshiClient.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/kalshietrade/src/main/java/com/kg/kalshietrade/KalshiClient.java" />
              <option name="originalContent" value="package com.kg.kalshietrade;&#10;import kong.unirest.*;&#10;import org.json.JSONObject;&#10;&#10;public class KalshiClient {&#10;    private final KalshiSigner signer = new KalshiSigner(KalshiConfig.PEM_PATH);&#10;    public JSONObject getEvents() {&#10;        String path = &quot;/trade-api/v2/events&quot;;&#10;        return makeGetRequest(path, &quot;series_ticker&quot;, KalshiConfig.SERIES_TICKER, &quot;with_milestones&quot;, &quot;true&quot;);&#10;    }&#10;    public JSONObject getMarkets() {&#10;        String path = &quot;/trade-api/v2/markets&quot;;&#10;        return makeGetRequest(path, &quot;series_ticker&quot;, KalshiConfig.SERIES_TICKER, &quot;status&quot;, &quot;open&quot;);&#10;    }&#10;    public JSONObject sendOrder(String path, String jsonBody) {&#10;        long ts = System.currentTimeMillis();&#10;        String sig = signer.sign(ts + &quot;POST&quot; + path + jsonBody);&#10;&#10;        HttpResponse&lt;String&gt; resp = Unirest.post(KalshiConfig.BASE_URL + path)&#10;                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)&#10;                .header(&quot;KALSHI-ACCESS-KEY&quot;, KalshiConfig.API_KEY)&#10;                .header(&quot;KALSHI-ACCESS-TIMESTAMP&quot;, String.valueOf(ts))&#10;                .header(&quot;KALSHI-ACCESS-SIGNATURE&quot;, sig)&#10;                .body(jsonBody).asString();&#10;&#10;        if (resp.getStatus() &gt;= 200 &amp;&amp; resp.getStatus() &lt; 300) {&#10;            return new JSONObject(resp.getBody());&#10;        } else {&#10;            System.err.println(&quot;   [ERROR] &quot; + resp.getStatus() + &quot;: &quot; + resp.getBody());&#10;            return null;&#10;        }&#10;    }&#10;    private JSONObject makeGetRequest(String path, String... params) {&#10;        long ts = System.currentTimeMillis();&#10;        String sig = signer.sign(ts + &quot;GET&quot; + path);&#10;        GetRequest req = Unirest.get(KalshiConfig.BASE_URL + path);&#10;        for (int i = 0; i &lt; params.length; i += 2) {&#10;            req.queryString(params[i], params[i+1]);&#10;        }&#10;        HttpResponse&lt;String&gt; resp = req.header(&quot;KALSHI-ACCESS-KEY&quot;, KalshiConfig.API_KEY)&#10;                .header(&quot;KALSHI-ACCESS-TIMESTAMP&quot;, String.valueOf(ts))&#10;                .header(&quot;KALSHI-ACCESS-SIGNATURE&quot;, sig)&#10;                .asString();&#10;        return resp.getStatus() == 200 ? new JSONObject(resp.getBody()) : new JSONObject();&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.kg.kalshietrade;&#10;import kong.unirest.*;&#10;import org.json.JSONObject;&#10;&#10;public class KalshiClient {&#10;    private final KalshiSigner signer = new KalshiSigner(KalshiConfig.PEM_PATH);&#10;    &#10;    public JSONObject getEvents() {&#10;        // Query markets endpoint to get live basketball games (markets, not events/series)&#10;        String path = &quot;/trade-api/v2/markets&quot;;&#10;        return makeGetRequest(path, &quot;series_ticker&quot;, KalshiConfig.SERIES_TICKER, &quot;status&quot;, &quot;open&quot;);&#10;    }&#10;    &#10;    public JSONObject getMarkets() {&#10;        String path = &quot;/trade-api/v2/markets&quot;;&#10;        return makeGetRequest(path, &quot;series_ticker&quot;, KalshiConfig.SERIES_TICKER, &quot;status&quot;, &quot;open&quot;);&#10;    }&#10;    public JSONObject sendOrder(String path, String jsonBody) {&#10;        long ts = System.currentTimeMillis();&#10;        String sig = signer.sign(ts + &quot;POST&quot; + path + jsonBody);&#10;&#10;        HttpResponse&lt;String&gt; resp = Unirest.post(KalshiConfig.BASE_URL + path)&#10;                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)&#10;                .header(&quot;KALSHI-ACCESS-KEY&quot;, KalshiConfig.API_KEY)&#10;                .header(&quot;KALSHI-ACCESS-TIMESTAMP&quot;, String.valueOf(ts))&#10;                .header(&quot;KALSHI-ACCESS-SIGNATURE&quot;, sig)&#10;                .body(jsonBody).asString();&#10;&#10;        if (resp.getStatus() &gt;= 200 &amp;&amp; resp.getStatus() &lt; 300) {&#10;            return new JSONObject(resp.getBody());&#10;        } else {&#10;            System.err.println(&quot;   [ERROR] &quot; + resp.getStatus() + &quot;: &quot; + resp.getBody());&#10;            return null;&#10;        }&#10;    }&#10;    private JSONObject makeGetRequest(String path, String... params) {&#10;        long ts = System.currentTimeMillis();&#10;        String sig = signer.sign(ts + &quot;GET&quot; + path);&#10;        GetRequest req = Unirest.get(KalshiConfig.BASE_URL + path);&#10;        for (int i = 0; i &lt; params.length; i += 2) {&#10;            req.queryString(params[i], params[i+1]);&#10;        }&#10;        HttpResponse&lt;String&gt; resp = req.header(&quot;KALSHI-ACCESS-KEY&quot;, KalshiConfig.API_KEY)&#10;                .header(&quot;KALSHI-ACCESS-TIMESTAMP&quot;, String.valueOf(ts))&#10;                .header(&quot;KALSHI-ACCESS-SIGNATURE&quot;, sig)&#10;                .asString();&#10;        return resp.getStatus() == 200 ? new JSONObject(resp.getBody()) : new JSONObject();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>